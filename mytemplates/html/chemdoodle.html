<html>
  <head>
    <!-- this is for ChemDoodle -->
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="/charmming/css/ChemDoodleWeb.css" type="text/css">
    <script type="text/javascript" src="/charmming/js/ChemDoodleWeb-libs.js"></script>
    <script type="text/javascript" src="/charmming/js/ChemDoodleWeb.js"></script>
  </head>

<body>
  <div>
     <h3 align="center">ChemDoodle Visualizer</h3>
     <center>
       <script>

         // BTM -- this function can be called for debugging to ensure ChemDoodle reads
         // the molecule correctly.         
         function alertMolecule(mol) {
           var message = 'This molecule contains '+mol.atoms.length+' atoms and '+mol.bonds.length+' bonds.';
           alert(message);
         }

         var v = new ChemDoodle.TransformCanvas3D('transformBallAndStick',520,520);
         v.specs.set3DRepresentation('Ball and Stick');
         v.specs.atoms_useJMOLColors = true;
         v.specs.backgroundColor = 'black';

         var PDBFile  = "{{ content }}";
         var molecule = ChemDoodle.readPDB(PDBFile);

         v.loadMolecule(molecule);
       </script>
    </center>
  </div>
</body>
</html>
