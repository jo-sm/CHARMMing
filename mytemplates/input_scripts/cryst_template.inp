{% ifequal solvation_structure 'sphere' %}
{% else %}
  * Crystal stream file
  *
  {% ifequal relative_boundary 1 %}
    stream crystl_{{ filebase }}.str
  {% endifequal %} 
  {% ifequal solvation_structure 'rhdo' %}
    {% ifequal relative_boundary 0 %}
      set greatervalue = {{ dim_x }}
    {% endifequal %}
    crystal define rhdo @greatervalue @greatervalue @greatervalue 60. 90. 60.
    crystal build noper 0
  {% else %}
    {% ifequal solvation_structure 'hexa' %}
      {% ifequal relative_boundary 1 %} 
        crystal define hexa @secondvalue @secondvalue @greatervalue 90. 90. 120.
      {% else %}
        set greatervalue = {{ greaterval }}
        set greaterx = {{ dim_x }}
        set greaterz = {{ dim_z }}
        crystal define hexa @greaterx @greaterx @greaterz 90. 90. 120.
      {% endifequal %}
      crystal build noper 0
    {% else %}  
      {% ifequal solvation_structure 'cubic' %}
        {% ifequal relative_boundary 0 %}
          set greatervalue = {{ dim_x }}
        {% endifequal %}
        crystal define cubic @greatervalue @greatervalue @greatervalue 90. 90. 90.
        crystal build noper 0
      {% else %}
        {% ifequal solvation_structure 'choose_for_me' %}
          if xtaltype .eq. HEXA then goto chhexa
          crystal define @xtaltype @greatervalue @greatervalue @greatervalue 60. 90. 60.
          crystal build noper 0
          goto donechoose
          label chhexa
          crystal define hexa @secondvalue @secondvalue @greatervalue 90. 90. 120.
          crystal build noper 0
          label donechoose
        {% endifequal %}
      {% endifequal %}
    {% endifequal %}
  {% endifequal %}
{% endifequal %}
